const User = require("../models/userSchema");
const Product = require("../models/productSchema");
const Category = require("../models/categorySchema");
const Brand = require("../models/brandSchema");
const Order = require("../models/orderSchema");
const flash = require("express-flash");
const Admin = require("../models/adminSchema");
const moment = require("moment");
const bcrypt = require("bcrypt");
const pdf = require("../utility/pdf")
const orderHelper = require("../helpers/orderHelpers")


module.exports ={

 getReturnRequest: async ( req,res) => {
    try {
        const page = parseInt(req.query.page) || 1;
        const perPage = 10;
        const skip = (page - 1) * perPage;
        const order = await Order.find({Status: 'Return Requested' }).skip(skip).limit(perPage)
        const totalCount = await Order.countDocuments({Status: 'Return Requested' });
        res.render('admin/returnRequests',{
          order,
          totalCount,
        currentPage: page,
        perPage,
        totalPages: Math.ceil(totalCount / perPage),
        })
      } catch (error) {
        console.log(error);
      }
    },




}